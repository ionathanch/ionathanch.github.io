<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Positivity</title><link rel="stylesheet" href="../../assets/css/Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--type-in-type</a> <a id="28" class="Symbol">#-}</a>

<a id="33" class="Keyword">open</a> <a id="38" class="Keyword">import</a> <a id="45" href="https://agda.github.io/agda-stdlib/Data.Product.html" class="Module">Data.Product</a>

<a id="59" class="Keyword">data</a> <a id="⊥"></a><a id="64" href="Positivity.html#64" class="Datatype">⊥</a> <a id="66" class="Symbol">:</a> <a id="68" href="https://agda.github.io/agda-stdlib/Agda.Primitive.html#326" class="Primitive">Set</a> <a id="72" class="Keyword">where</a>

<a id="79" class="Comment">-- f doesn&#39;t type check unless we put the equality type in Set</a>
<a id="142" class="Keyword">data</a> <a id="_≡_"></a><a id="147" href="Positivity.html#147" class="Datatype Operator">_≡_</a> <a id="151" class="Symbol">{</a><a id="152" href="Positivity.html#152" class="Bound">ℓ</a><a id="153" class="Symbol">}</a> <a id="155" class="Symbol">{</a><a id="156" href="Positivity.html#156" class="Bound">A</a> <a id="158" class="Symbol">:</a> <a id="160" href="https://agda.github.io/agda-stdlib/Agda.Primitive.html#326" class="Primitive">Set</a> <a id="164" href="Positivity.html#152" class="Bound">ℓ</a><a id="165" class="Symbol">}</a> <a id="167" class="Symbol">(</a><a id="168" href="Positivity.html#168" class="Bound">a</a> <a id="170" class="Symbol">:</a> <a id="172" href="Positivity.html#156" class="Bound">A</a><a id="173" class="Symbol">)</a> <a id="175" class="Symbol">:</a> <a id="177" href="Positivity.html#156" class="Bound">A</a> <a id="179" class="Symbol">→</a> <a id="181" href="https://agda.github.io/agda-stdlib/Agda.Primitive.html#326" class="Primitive">Set</a> <a id="185" class="Keyword">where</a>
  <a id="_≡_.refl"></a><a id="193" href="Positivity.html#193" class="InductiveConstructor">refl</a> <a id="198" class="Symbol">:</a> <a id="200" href="Positivity.html#168" class="Bound">a</a> <a id="202" href="Positivity.html#147" class="Datatype Operator">≡</a> <a id="204" href="Positivity.html#168" class="Bound">a</a>

<a id="subst"></a><a id="207" href="Positivity.html#207" class="Function">subst</a> <a id="213" class="Symbol">:</a> <a id="215" class="Symbol">∀</a> <a id="217" class="Symbol">{</a><a id="218" href="Positivity.html#218" class="Bound">ℓ</a> <a id="220" href="Positivity.html#220" class="Bound">ℓ′</a><a id="222" class="Symbol">}</a> <a id="224" class="Symbol">{</a><a id="225" href="Positivity.html#225" class="Bound">A</a> <a id="227" class="Symbol">:</a> <a id="229" href="https://agda.github.io/agda-stdlib/Agda.Primitive.html#326" class="Primitive">Set</a> <a id="233" href="Positivity.html#218" class="Bound">ℓ</a><a id="234" class="Symbol">}</a> <a id="236" class="Symbol">{</a><a id="237" href="Positivity.html#237" class="Bound">a</a> <a id="239" href="Positivity.html#239" class="Bound">b</a> <a id="241" class="Symbol">:</a> <a id="243" href="Positivity.html#225" class="Bound">A</a><a id="244" class="Symbol">}</a> <a id="246" class="Symbol">→</a> <a id="248" class="Symbol">(</a><a id="249" href="Positivity.html#249" class="Bound">P</a> <a id="251" class="Symbol">:</a> <a id="253" href="Positivity.html#225" class="Bound">A</a> <a id="255" class="Symbol">→</a> <a id="257" href="https://agda.github.io/agda-stdlib/Agda.Primitive.html#326" class="Primitive">Set</a> <a id="261" href="Positivity.html#220" class="Bound">ℓ′</a><a id="263" class="Symbol">)</a> <a id="265" class="Symbol">→</a> <a id="267" class="Symbol">(</a><a id="268" href="Positivity.html#268" class="Bound">p</a> <a id="270" class="Symbol">:</a> <a id="272" href="Positivity.html#237" class="Bound">a</a> <a id="274" href="Positivity.html#147" class="Datatype Operator">≡</a> <a id="276" href="Positivity.html#239" class="Bound">b</a><a id="277" class="Symbol">)</a> <a id="279" class="Symbol">→</a> <a id="281" href="Positivity.html#249" class="Bound">P</a> <a id="283" href="Positivity.html#237" class="Bound">a</a> <a id="285" class="Symbol">→</a> <a id="287" href="Positivity.html#249" class="Bound">P</a> <a id="289" href="Positivity.html#239" class="Bound">b</a>
<a id="291" href="Positivity.html#207" class="Function">subst</a> <a id="297" class="Symbol">_</a> <a id="299" href="Positivity.html#193" class="InductiveConstructor">refl</a> <a id="304" href="Positivity.html#304" class="Bound">pa</a> <a id="307" class="Symbol">=</a> <a id="309" href="Positivity.html#304" class="Bound">pa</a>

<a id="¬_"></a><a id="313" href="Positivity.html#313" class="Function Operator">¬_</a> <a id="316" class="Symbol">:</a> <a id="318" class="Symbol">∀</a> <a id="320" class="Symbol">{</a><a id="321" href="Positivity.html#321" class="Bound">ℓ</a><a id="322" class="Symbol">}</a> <a id="324" class="Symbol">→</a> <a id="326" href="https://agda.github.io/agda-stdlib/Agda.Primitive.html#326" class="Primitive">Set</a> <a id="330" href="Positivity.html#321" class="Bound">ℓ</a> <a id="332" class="Symbol">→</a> <a id="334" href="https://agda.github.io/agda-stdlib/Agda.Primitive.html#326" class="Primitive">Set</a> <a id="338" href="Positivity.html#321" class="Bound">ℓ</a>
<a id="340" href="Positivity.html#313" class="Function Operator">¬</a> <a id="342" href="Positivity.html#342" class="Bound">A</a> <a id="344" class="Symbol">=</a> <a id="346" href="Positivity.html#342" class="Bound">A</a> <a id="348" class="Symbol">→</a> <a id="350" href="Positivity.html#64" class="Datatype">⊥</a>

<a id="℘"></a><a id="353" href="Positivity.html#353" class="Function">℘</a> <a id="355" class="Symbol">:</a> <a id="357" class="Symbol">∀</a> <a id="359" class="Symbol">{</a><a id="360" href="Positivity.html#360" class="Bound">ℓ</a><a id="361" class="Symbol">}</a> <a id="363" class="Symbol">→</a> <a id="365" href="https://agda.github.io/agda-stdlib/Agda.Primitive.html#326" class="Primitive">Set</a> <a id="369" href="Positivity.html#360" class="Bound">ℓ</a> <a id="371" class="Symbol">→</a> <a id="373" href="https://agda.github.io/agda-stdlib/Agda.Primitive.html#326" class="Primitive">Set</a> <a id="377" class="Symbol">_</a>
<a id="379" href="Positivity.html#353" class="Function">℘</a> <a id="381" class="Symbol">{</a><a id="382" href="Positivity.html#382" class="Bound">ℓ</a><a id="383" class="Symbol">}</a> <a id="385" href="Positivity.html#385" class="Bound">S</a> <a id="387" class="Symbol">=</a> <a id="389" href="Positivity.html#385" class="Bound">S</a> <a id="391" class="Symbol">→</a> <a id="393" href="https://agda.github.io/agda-stdlib/Agda.Primitive.html#326" class="Primitive">Set</a>

<a id="398" class="Symbol">{-#</a> <a id="402" class="Keyword">NO_POSITIVITY_CHECK</a> <a id="422" class="Symbol">#-}</a>
<a id="426" class="Keyword">record</a> <a id="Bad"></a><a id="433" href="Positivity.html#433" class="Record">Bad</a> <a id="437" class="Symbol">:</a> <a id="439" href="https://agda.github.io/agda-stdlib/Agda.Primitive.html#326" class="Primitive">Set₁</a> <a id="444" class="Keyword">where</a>
  <a id="452" class="Keyword">constructor</a> <a id="mkBad"></a><a id="464" href="Positivity.html#464" class="InductiveConstructor">mkBad</a>
  <a id="472" class="Keyword">field</a> <a id="Bad.bad"></a><a id="478" href="Positivity.html#478" class="Field">bad</a> <a id="482" class="Symbol">:</a> <a id="484" href="Positivity.html#353" class="Function">℘</a> <a id="486" class="Symbol">(</a><a id="487" href="Positivity.html#353" class="Function">℘</a> <a id="489" href="Positivity.html#433" class="Record">Bad</a><a id="492" class="Symbol">)</a>

<a id="f"></a><a id="495" href="Positivity.html#495" class="Function">f</a> <a id="497" class="Symbol">:</a> <a id="499" href="Positivity.html#353" class="Function">℘</a> <a id="501" href="Positivity.html#433" class="Record">Bad</a> <a id="505" class="Symbol">→</a> <a id="507" href="Positivity.html#433" class="Record">Bad</a>
<a id="511" href="Positivity.html#495" class="Function">f</a> <a id="513" href="Positivity.html#513" class="Bound">p</a> <a id="515" class="Symbol">=</a> <a id="517" href="Positivity.html#464" class="InductiveConstructor">mkBad</a> <a id="523" class="Symbol">(</a><a id="524" href="Positivity.html#147" class="Datatype Operator">_≡</a> <a id="527" href="Positivity.html#513" class="Bound">p</a><a id="528" class="Symbol">)</a>

<a id="fInj"></a><a id="531" href="Positivity.html#531" class="Function">fInj</a> <a id="536" class="Symbol">:</a> <a id="538" class="Symbol">∀</a> <a id="540" class="Symbol">{</a><a id="541" href="Positivity.html#541" class="Bound">p</a> <a id="543" href="Positivity.html#543" class="Bound">q</a><a id="544" class="Symbol">}</a> <a id="546" class="Symbol">→</a> <a id="548" href="Positivity.html#495" class="Function">f</a> <a id="550" href="Positivity.html#541" class="Bound">p</a> <a id="552" href="Positivity.html#147" class="Datatype Operator">≡</a> <a id="554" href="Positivity.html#495" class="Function">f</a> <a id="556" href="Positivity.html#543" class="Bound">q</a> <a id="558" class="Symbol">→</a> <a id="560" href="Positivity.html#541" class="Bound">p</a> <a id="562" href="Positivity.html#147" class="Datatype Operator">≡</a> <a id="564" href="Positivity.html#543" class="Bound">q</a>
<a id="566" href="Positivity.html#531" class="Function">fInj</a> <a id="571" class="Symbol">{</a><a id="572" href="Positivity.html#572" class="Bound">p</a><a id="573" class="Symbol">}</a> <a id="575" href="Positivity.html#575" class="Bound">fp≡fq</a> <a id="581" class="Symbol">=</a> <a id="583" href="Positivity.html#207" class="Function">subst</a> <a id="589" class="Symbol">(λ</a> <a id="592" href="Positivity.html#592" class="Bound">p≡</a> <a id="595" class="Symbol">→</a> <a id="597" href="Positivity.html#592" class="Bound">p≡</a> <a id="600" href="Positivity.html#572" class="Bound">p</a><a id="601" class="Symbol">)</a> <a id="603" class="Symbol">(</a><a id="604" href="Positivity.html#633" class="Function">badInj</a> <a id="611" href="Positivity.html#575" class="Bound">fp≡fq</a><a id="616" class="Symbol">)</a> <a id="618" href="Positivity.html#193" class="InductiveConstructor">refl</a>
  <a id="625" class="Keyword">where</a>
  <a id="633" href="Positivity.html#633" class="Function">badInj</a> <a id="640" class="Symbol">:</a> <a id="642" class="Symbol">∀</a> <a id="644" class="Symbol">{</a><a id="645" href="Positivity.html#645" class="Bound">a</a> <a id="647" href="Positivity.html#647" class="Bound">b</a><a id="648" class="Symbol">}</a> <a id="650" class="Symbol">→</a> <a id="652" href="Positivity.html#464" class="InductiveConstructor">mkBad</a> <a id="658" href="Positivity.html#645" class="Bound">a</a> <a id="660" href="Positivity.html#147" class="Datatype Operator">≡</a> <a id="662" href="Positivity.html#464" class="InductiveConstructor">mkBad</a> <a id="668" href="Positivity.html#647" class="Bound">b</a> <a id="670" class="Symbol">→</a> <a id="672" href="Positivity.html#645" class="Bound">a</a> <a id="674" href="Positivity.html#147" class="Datatype Operator">≡</a> <a id="676" href="Positivity.html#647" class="Bound">b</a>
  <a id="680" href="Positivity.html#633" class="Function">badInj</a> <a id="687" href="Positivity.html#193" class="InductiveConstructor">refl</a> <a id="692" class="Symbol">=</a> <a id="694" href="Positivity.html#193" class="InductiveConstructor">refl</a>

<a id="700" class="Comment">-- type-in-type is for here onwards</a>
<a id="P₀"></a><a id="736" href="Positivity.html#736" class="Function">P₀</a> <a id="739" class="Symbol">:</a> <a id="741" href="Positivity.html#353" class="Function">℘</a> <a id="743" href="Positivity.html#433" class="Record">Bad</a>
<a id="747" href="Positivity.html#736" class="Function">P₀</a> <a id="750" href="Positivity.html#750" class="Bound">x</a> <a id="752" class="Symbol">=</a> <a id="754" href="https://agda.github.io/agda-stdlib/Data.Product.html#916" class="Function">Σ[</a> <a id="757" href="Positivity.html#757" class="Bound">P</a> <a id="759" href="https://agda.github.io/agda-stdlib/Data.Product.html#916" class="Function">∈</a> <a id="761" href="Positivity.html#353" class="Function">℘</a> <a id="763" href="Positivity.html#433" class="Record">Bad</a> <a id="767" href="https://agda.github.io/agda-stdlib/Data.Product.html#916" class="Function">]</a> <a id="769" href="Positivity.html#750" class="Bound">x</a> <a id="771" href="Positivity.html#147" class="Datatype Operator">≡</a> <a id="773" href="Positivity.html#495" class="Function">f</a> <a id="775" href="Positivity.html#757" class="Bound">P</a> <a id="777" href="https://agda.github.io/agda-stdlib/Data.Product.html#1167" class="Function Operator">×</a> <a id="779" href="Positivity.html#313" class="Function Operator">¬</a> <a id="781" class="Symbol">(</a><a id="782" href="Positivity.html#757" class="Bound">P</a> <a id="784" href="Positivity.html#750" class="Bound">x</a><a id="785" class="Symbol">)</a>

<a id="x₀"></a><a id="788" href="Positivity.html#788" class="Function">x₀</a> <a id="791" class="Symbol">:</a> <a id="793" href="Positivity.html#433" class="Record">Bad</a>
<a id="797" href="Positivity.html#788" class="Function">x₀</a> <a id="800" class="Symbol">=</a> <a id="802" href="Positivity.html#495" class="Function">f</a> <a id="804" href="Positivity.html#736" class="Function">P₀</a>

<a id="P₀x₀→¬P₀x₀"></a><a id="808" href="Positivity.html#808" class="Function">P₀x₀→¬P₀x₀</a> <a id="819" class="Symbol">:</a> <a id="821" href="Positivity.html#736" class="Function">P₀</a> <a id="824" href="Positivity.html#788" class="Function">x₀</a> <a id="827" class="Symbol">→</a> <a id="829" href="Positivity.html#313" class="Function Operator">¬</a> <a id="831" href="Positivity.html#736" class="Function">P₀</a> <a id="834" href="Positivity.html#788" class="Function">x₀</a>
<a id="837" href="Positivity.html#808" class="Function">P₀x₀→¬P₀x₀</a> <a id="848" class="Symbol">(</a><a id="849" href="Positivity.html#849" class="Bound">P</a> <a id="851" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="853" href="Positivity.html#853" class="Bound">x₀≡fP</a> <a id="859" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="861" href="Positivity.html#861" class="Bound">¬Px₀</a><a id="865" class="Symbol">)</a> <a id="867" href="Positivity.html#867" class="Bound">P₀x₀</a> <a id="872" class="Symbol">=</a> <a id="874" href="Positivity.html#861" class="Bound">¬Px₀</a> <a id="879" class="Symbol">(</a><a id="880" href="Positivity.html#207" class="Function">subst</a> <a id="886" class="Symbol">(λ</a> <a id="889" href="Positivity.html#889" class="Bound">P</a> <a id="891" class="Symbol">→</a> <a id="893" href="Positivity.html#889" class="Bound">P</a> <a id="895" href="Positivity.html#788" class="Function">x₀</a><a id="897" class="Symbol">)</a> <a id="899" class="Symbol">(</a><a id="900" href="Positivity.html#531" class="Function">fInj</a> <a id="905" href="Positivity.html#853" class="Bound">x₀≡fP</a><a id="910" class="Symbol">)</a> <a id="912" href="Positivity.html#867" class="Bound">P₀x₀</a><a id="916" class="Symbol">)</a>

<a id="¬P₀x₀→P₀x₀"></a><a id="919" href="Positivity.html#919" class="Function">¬P₀x₀→P₀x₀</a> <a id="930" class="Symbol">:</a> <a id="932" href="Positivity.html#313" class="Function Operator">¬</a> <a id="934" href="Positivity.html#736" class="Function">P₀</a> <a id="937" href="Positivity.html#788" class="Function">x₀</a> <a id="940" class="Symbol">→</a> <a id="942" href="Positivity.html#736" class="Function">P₀</a> <a id="945" href="Positivity.html#788" class="Function">x₀</a>
<a id="948" href="Positivity.html#919" class="Function">¬P₀x₀→P₀x₀</a> <a id="959" href="Positivity.html#959" class="Bound">¬P₀x₀</a> <a id="965" class="Symbol">=</a> <a id="967" href="Positivity.html#736" class="Function">P₀</a> <a id="970" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="972" href="Positivity.html#193" class="InductiveConstructor">refl</a> <a id="977" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="979" href="Positivity.html#959" class="Bound">¬P₀x₀</a>

<a id="¬P₀x₀"></a><a id="986" href="Positivity.html#986" class="Function">¬P₀x₀</a> <a id="992" class="Symbol">:</a> <a id="994" href="Positivity.html#313" class="Function Operator">¬</a> <a id="996" href="Positivity.html#736" class="Function">P₀</a> <a id="999" href="Positivity.html#788" class="Function">x₀</a>
<a id="1002" href="Positivity.html#986" class="Function">¬P₀x₀</a> <a id="1008" href="Positivity.html#1008" class="Bound">P₀x₀</a> <a id="1013" class="Symbol">=</a> <a id="1015" href="Positivity.html#808" class="Function">P₀x₀→¬P₀x₀</a> <a id="1026" href="Positivity.html#1008" class="Bound">P₀x₀</a> <a id="1031" href="Positivity.html#1008" class="Bound">P₀x₀</a>

<a id="false"></a><a id="1037" href="Positivity.html#1037" class="Function">false</a> <a id="1043" class="Symbol">:</a> <a id="1045" href="Positivity.html#64" class="Datatype">⊥</a>
<a id="1047" href="Positivity.html#1037" class="Function">false</a> <a id="1053" class="Symbol">=</a> <a id="1055" href="Positivity.html#986" class="Function">¬P₀x₀</a> <a id="1061" class="Symbol">(</a><a id="1062" href="Positivity.html#919" class="Function">¬P₀x₀→P₀x₀</a> <a id="1073" href="Positivity.html#986" class="Function">¬P₀x₀</a><a id="1078" class="Symbol">)</a></pre></body></html>